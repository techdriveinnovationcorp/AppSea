import{a as F,b as B,c as R,d as Y,e as J,f as Q,g as X,h as Z,i as $,k as ee,l as te,o as ie,q as oe,r as re,s as ne,t as ae,u as le,v as ce}from"./chunk-PQ6233CX.js";import{A as W,B as K,C as z,D as U,E as T,F as q,H as G,I as H,z as A}from"./chunk-X4B4OFR6.js";import{a as se}from"./chunk-ZRKW7TPZ.js";import{a as O,b as j,c as M}from"./chunk-T5PO4MN4.js";import{h as N}from"./chunk-XNIQXAWP.js";import"./chunk-4JSTVPM3.js";import"./chunk-WXI33M2S.js";import{Fb as k,Gb as c,Ib as D,Jb as v,Kb as w,Lb as b,Ta as u,Ua as C,aa as L,ib as h,ka as P,kb as y,la as V,pb as r,qb as a,rb as x,sa as d,ta as p,tc as E,ub as f,wb as m,xb as s,yc as I}from"./chunk-AOKIQW3H.js";import"./chunk-U2X4XRB7.js";function me(n,l){if(n&1){let o=f();r(0,"div",13),c(1),r(2,"button",14),m("click",function(){d(o);let e=s();return p(e.backToSelectLayout())}),r(3,"mat-icon"),c(4,"delete"),a()()()}if(n&2){let o=s();u(),D(" ",o.selectedLayoutType," ")}}function ue(n,l){n&1&&x(0,"mat-progress-bar",15)}function ye(n,l){n&1&&x(0,"mat-progress-bar",16)}function fe(n,l){if(n&1){let o=f();r(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),c(4,"Non-Relationship Layouts"),a(),r(5,"div",21)(6,"div",22),m("click",function(){d(o);let e=s();return p(e.selectedLayout("Entry/Edit"))}),c(7," Entry/Edit "),a(),r(8,"div",22),m("click",function(){d(o);let e=s();return p(e.selectedLayout("View"))}),c(9,"View"),a(),r(10,"div",22),m("click",function(){d(o);let e=s();return p(e.selectedLayout("List"))}),c(11,"List"),a()()()(),r(12,"div",18)(13,"div",19)(14,"div",20),c(15,"1:1 Relationship Layouts"),a(),r(16,"div",21)(17,"div",22),m("click",function(){d(o);let e=s();return p(e.selectedLayout("Drayer Entrt"))}),c(18," Drayer Entry/Edit "),a(),r(19,"div",22),m("click",function(){d(o);let e=s();return p(e.selectedLayout("Detailed View"))}),c(20," Detailed View "),a()()()(),r(21,"div",18)(22,"div",19)(23,"div",20),c(24,"1:N Relationship Layouts"),a(),r(25,"div",21)(26,"div",22),m("click",function(){d(o);let e=s();return p(e.selectedLayout("Multi Line Entry"))}),c(27," Multi Line Entry "),a()()()()()}}function _e(n,l){if(n&1){let o=f();r(0,"dropdownPopover",31),m("resultSelected",function(e){d(o);let i=s(2);return p(i.onResultSelected(e))})("dropdownClosed",function(e){d(o);let i=s(2);return p(i.onCloseDropdown(e))}),a()}if(n&2){s();let o=k(11),t=s();y("results",t.searchResults)("referenceElement",o)}}function ge(n,l){if(n&1){let o=f();r(0,"div",23)(1,"div",24)(2,"span",25),c(3,"Layout Name"),a(),r(4,"div",26)(5,"input",27),b("ngModelChange",function(e){d(o);let i=s();return w(i.layoutDisplayName,e)||(i.layoutDisplayName=e),p(e)}),a()()(),r(6,"div",24)(7,"span",25),c(8,"Choose Primary Object"),a(),r(9,"div",28)(10,"input",29,0),m("keyup",function(e){d(o);let i=s();return p(i.onKeyUp(e))}),b("ngModelChange",function(e){d(o);let i=s();return w(i.primaryObjectName,e)||(i.primaryObjectName=e),p(e)}),a()(),h(12,_e,1,2,"dropdownPopover",30),a()()}if(n&2){let o=s();u(5),v("ngModel",o.layoutDisplayName),u(5),v("ngModel",o.primaryObjectName),u(2),y("ngIf",o.showDropdown)}}var de=(()=>{let l=class l{constructor(t,e){this.dialog=t,this.firebase=e,this.isSelectedLayout=!1,this.searchResults=[],this.showDropdown=!1,this.isLoading=!1,this.searchKey="",this.selectedLayoutType="",this.layoutDisplayName="",this.primaryObjectName=""}backToSelectLayout(){console.log("yes"),this.isSelectedLayout=!1}selectedLayout(t){this.isSelectedLayout=!0,this.selectedLayoutType=t,console.log(`Selected Layout: ${t}`)}onKeyUp(t){let i=t.target.value.trim();i.length>=2?this.firebase.searchByObjectName(i).subscribe(_=>{this.searchResults=_,this.searchResults?.length>=0&&(this.showDropdown=!0)}):this.searchResults=[]}onResultSelected(t){console.log(t),this.primaryObjectName=t?.objectName}onCloseDropdown(t){this.showDropdown=t}createLayout(){let e={layoutName:this.layoutDisplayName.replace(/[^\w\s]|_/g,"").replace(/\s+/g,""),layoutDisplayName:this.layoutDisplayName,layoutType:this.selectedLayoutType,primaryObject:this.primaryObjectName};this.firebase.createLayout(e).then(i=>{this.openDialog("Layout Creation Successfuly!"),this.isLoading=!1})}openDialog(t){this.dialog.open(R,{width:"250px",enterAnimationDuration:"100ms",exitAnimationDuration:"100ms",data:{message:t}})}};l.\u0275fac=function(e){return new(e||l)(C(F),C(M))},l.\u0275cmp=P({type:l,selectors:[["layout"]],decls:18,vars:6,consts:[["searchDiv",""],[1,"layoutSelectorPage"],[1,"matToolbar",2,"position","absolute","top","0","background","#f0f8ff !important","box-shadow","0 4px 10px rgba(0, 0, 0, 0.2)"],[2,"margin-right","2vh"],["matTooltip","Search Layout","matTooltipPosition","after",1,"secondaryTextFields"],["type","text","placeholder","Search Layout",1,"primaryTextFieldsInput",3,"ngModelChange","keyup","ngModel"],["class","selectedLayoutTypeDisplay",4,"ngIf"],[1,"example-spacer"],["mat-fab","","extended","","color","primary","matTooltip","Save",3,"click"],["mode","determinate",4,"ngIf"],["mode","indeterminate",4,"ngIf"],["class","layout-container",4,"ngIf"],["class","layout-selection",4,"ngIf"],[1,"selectedLayoutTypeDisplay"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",1,"closeIcon",3,"click"],["mode","determinate"],["mode","indeterminate"],[1,"layout-container"],[1,"layout-row"],[1,"layout-card"],[1,"layout-title"],[1,"layout-options"],[1,"layout-option",3,"click"],[1,"layout-selection"],[1,"propertyInfoTextBox"],[1,"propertiesInputsTitles"],["matTooltip","Layout Name",1,"propertyInfoTextBoxContent"],["type","text","placeholder","Layout Name",1,"propertyPrimaryTextFieldsInput",3,"ngModelChange","ngModel"],["matTooltip","Primary Object",1,"propertyInfoTextBoxContent"],["type","text","placeholder","Choose Primary Object",1,"propertyPrimaryTextFieldsInput",3,"keyup","ngModelChange","ngModel"],[3,"results","referenceElement","resultSelected","dropdownClosed",4,"ngIf"],[3,"resultSelected","dropdownClosed","results","referenceElement"]],template:function(e,i){if(e&1){let _=f();r(0,"div",1),x(1,"mat-toolbar"),r(2,"mat-toolbar",2)(3,"span",3),c(4,"Layout Creation"),a(),r(5,"div",4)(6,"input",5,0),b("ngModelChange",function(g){return d(_),w(i.searchKey,g)||(i.searchKey=g),p(g)}),m("keyup",function(g){return d(_),p(i.onKeyUp(g))}),a()(),h(8,me,5,1,"div",6),x(9,"span",7),r(10,"button",8),m("click",function(){return d(_),p(i.createLayout())}),r(11,"mat-icon"),c(12,"save"),a(),c(13," Create "),a()(),h(14,ue,1,0,"mat-progress-bar",9)(15,ye,1,0,"mat-progress-bar",10)(16,fe,28,0,"div",11)(17,ge,13,3,"div",12),a()}e&2&&(u(6),v("ngModel",i.searchKey),u(2),y("ngIf",i.isSelectedLayout),u(6),y("ngIf",!i.isLoading),u(),y("ngIf",i.isLoading),u(),y("ngIf",!i.isSelectedLayout),u(),y("ngIf",i.isSelectedLayout))},dependencies:[E,U,A,K,Y,G,q,J,X,Z,$],styles:['.layout-container[_ngcontent-%COMP%], .layout-selection[_ngcontent-%COMP%]{width:100%;height:80vh;display:flex;align-items:center;justify-content:center;background:#f0f2f5;overflow:auto;padding:20px;box-sizing:border-box}.layoutSelectorPage[_ngcontent-%COMP%]{width:100%;height:90vh;position:relative}.layout-selection[_ngcontent-%COMP%]{flex-direction:column}.layout-row[_ngcontent-%COMP%]{width:100%;max-width:1200px;display:flex;justify-content:space-around;margin-bottom:20px;flex-wrap:wrap}.layout-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f0f8ff);border-radius:15px;box-shadow:0 8px 16px #00000026;width:300px;padding:20px;transition:transform .3s ease,box-shadow .3s ease,background .3s ease;cursor:pointer;position:relative;margin:10px;box-sizing:border-box}.layout-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:5px;background:#6cb4ee;border-radius:15px 15px 0 0}.layout-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 24px #0003;background:linear-gradient(135deg,#fff,#e0f7fa)}.layout-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:15px;text-align:center;color:#333}.layout-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.layout-option[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:15px;text-align:center;cursor:pointer;transition:background .3s ease,transform .3s ease;font-size:16px;color:#555}.layout-option[_ngcontent-%COMP%]:hover{background:#f1f1f1;transform:scale(1.05);color:#007bff}.layout-option[_ngcontent-%COMP%]:active{background:#e0e0e0}.selectedLayoutTypeDisplay[_ngcontent-%COMP%]{padding:1vh 2vh;background-color:#6cb4ee;border-radius:2vh;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;position:relative;margin-left:3vh}.selectedLayoutTypeDisplay[_ngcontent-%COMP%]   .closeIcon[_ngcontent-%COMP%]{position:absolute;top:-2.2vh;right:-5.8vh}']});let n=l;return n})();var xe=[{path:"",component:de}],$e=(()=>{let l=class l{};l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=V({type:l}),l.\u0275inj=L({providers:[M],imports:[I,T,O.initializeApp(se),j,W,z,ce,H,T,Q,ne,ae,re,te,ie,le,B,ee,oe,N.forChild(xe)]});let n=l;return n})();export{$e as LayoutModule};
